# The Population by tract Dataset


## Description
The population density of an area is a feature of interest in our analysis of well water shortage in San Joaquin valley river basin. 

## Source
The US Census Bureau publishes demographic data along with land area that suits our purpose. To discover all datasets available for a year, replace year number: https://api.census.gov/data/2010.html

## How to download ?

The population by tract is available through api call provided by the census bureau : http://api.census.gov/data/2020/pdb/tract?get=State_name,County_name,LAND_AREA,Tot_Population_ACS_14_18&for=tract:*&in=state:{state}&in=county:*&key={APITokenIn}"
The State_name should be the FIP code for the state. For California, the FIP code is '06'. The variables of interest are land area and population from which we can derive population density.
To understand the variables that canbe used in the API call [visit](https://api.census.gov/data/2020/pdb/tract/variables.html) this site.

An [API key can be applied](https://api.census.gov/data/key_signup.html) for and an API key is sent to your registered email. This API key was stored in a pickle file. The pickle file is read and the key is stored in variable APITokenIn.

The variables to be retrieved and the parameters to be used for the call are seen in the URL generated by putting together the query along with the authentication:

url_tract = f"http://api.census.gov/data/2020/pdb/tract?get=State_name,County_name,LAND_AREA,Tot_Population_ACS_14_18&for=tract:*&in=state:{state}&in=county:*&key={APITokenIn}"


## Features of interest

The features retrieved are present in the URL see above.

State_name : State of california
County: County within California
tract: tract number
LAND_AREA : at the tract level
Tot_Population_ACS_14_18 : The population in each tract between the years 2014 and 2018.


### Info about GEOID
GeoID consitutes:
 - State:2
 - COUNTY :3
 - TRACT : 6
 - BlockGroup : 1
 - Block:4

The “GEO.ID” field contains 14-digit codes that identify the summary level of data, the geographic component of the data and FIPS codes that uniquely identify the data. For example, the 14-digit “GEO.ID” 
for Harris County, TX is “0500000US48201” where “050” represents the summary level of the data, “0000” represents the 2-digit geographic variant and the 2-digit geographic component,“US” represents 
the United States, “48” represents the state of Texas and “201” represents Harris County.

For Shape file you need only state and County : To join data downloaded from data.census.gov to TIGER/Line Shapefiles you will need to remove the first nine characters of “GEO.ID”.

## Mapping at the Township-Range level


## Potential issues
### Description
The challenge with the population dataset are manifold.

- The TOTAL_ACS-14_18 five year population at the tract level does not cover the years for which we have precipitation, groundwater and reservoir data. We can extrapolate but we have to make sure it known.
- This is the last available dataset at tract level with land area and population which is why it was chosen.
- The geographic boundaries of the tract and blocks are very disparate from the TownshipRange data we have for the other datasets that will enable an accurate join.

